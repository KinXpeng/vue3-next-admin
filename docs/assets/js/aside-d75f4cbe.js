import{_ as b,c as D,u as P,a as H,e as a}from"./index-24336435.js";import{H as R,ay as L,e as O,_ as I,j as g,E as N,f as S,ah as F,Q as j,W as q,u as r,o as w,c as z,V as p,P as A,O as $,S as J,J as Q}from"./@vue-021a4eb1.js";import{s as f}from"./pinia-a8c871c6.js";import"./vue-router-5dc1aa30.js";import"./element-plus-f169eafc.js";import"./lodash-es-36eb724a.js";import"./@vueuse-8a759679.js";import"./@element-plus-4a2045cc.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-1798568c.js";import"./call-bind-1df9733d.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-463e90e0.js";import"./js-cookie-cf83ad76.js";import"./nprogress-5ada7e0c.js";import"./axios-707ed124.js";import"./qs-a8db372b.js";import"./side-channel-9112baf6.js";import"./object-inspect-d11bccf2.js";import"./mitt-f7ef348c.js";import"./vue-demi-71ba0ef2.js";const G={class:"h100"},K=R({name:"layoutAside"}),Ae=R({...K,setup(U){const M=L(()=>b(()=>import("./index-241f21c5.js"),["./index-241f21c5.js","./pinia-a8c871c6.js","./vue-demi-71ba0ef2.js","./@vue-021a4eb1.js","./index-24336435.js","./vue-router-5dc1aa30.js","./element-plus-f169eafc.js","./lodash-es-36eb724a.js","./@vueuse-8a759679.js","./@element-plus-4a2045cc.js","./@popperjs-c75af06c.js","./@ctrl-f8748455.js","./dayjs-1798568c.js","./call-bind-1df9733d.js","./get-intrinsic-b9397c9a.js","./has-symbols-e8f3ca0e.js","./function-bind-22e7ee79.js","./has-26d28e02.js","./async-validator-dee29e8b.js","./memoize-one-297ddbcb.js","./escape-html-1d60d822.js","./normalize-wheel-es-ed76fb12.js","./@floating-ui-463e90e0.js","./js-cookie-cf83ad76.js","./nprogress-5ada7e0c.js","..\\css\\nprogress-8b89e2e0.css","./axios-707ed124.js","./qs-a8db372b.js","./side-channel-9112baf6.js","./object-inspect-d11bccf2.js","./mitt-f7ef348c.js","..\\css\\index-c2520709.css","./logo-mini-f44bd16e.js","./_plugin-vue_export-helper-c27b6911.js","..\\css\\index-e424b95a.css"],import.meta.url)),T=L(()=>b(()=>import("./vertical-aa45c8a1.js"),["./vertical-aa45c8a1.js","./index-24336435.js","./@vue-021a4eb1.js","./pinia-a8c871c6.js","./vue-demi-71ba0ef2.js","./vue-router-5dc1aa30.js","./element-plus-f169eafc.js","./lodash-es-36eb724a.js","./@vueuse-8a759679.js","./@element-plus-4a2045cc.js","./@popperjs-c75af06c.js","./@ctrl-f8748455.js","./dayjs-1798568c.js","./call-bind-1df9733d.js","./get-intrinsic-b9397c9a.js","./has-symbols-e8f3ca0e.js","./function-bind-22e7ee79.js","./has-26d28e02.js","./async-validator-dee29e8b.js","./memoize-one-297ddbcb.js","./escape-html-1d60d822.js","./normalize-wheel-es-ed76fb12.js","./@floating-ui-463e90e0.js","./js-cookie-cf83ad76.js","./nprogress-5ada7e0c.js","..\\css\\nprogress-8b89e2e0.css","./axios-707ed124.js","./qs-a8db372b.js","./side-channel-9112baf6.js","./object-inspect-d11bccf2.js","./mitt-f7ef348c.js","..\\css\\index-c2520709.css"],import.meta.url)),c=O(),y=D(),E=P(),B=H(),{routesList:h}=f(y),{themeConfig:s}=f(E),{isTagsViewCurrenFull:V}=f(B),l=I({menuList:[],clientWidth:0}),W=g(()=>{const{layout:e,isCollapse:t,menuBar:o}=s.value,i=["#FFFFFF","#FFF","#fff","#ffffff"].includes(o)?"layout-el-aside-br-color":"";if(l.clientWidth<=1e3)if(t){document.body.setAttribute("class","el-popup-parent--hidden");const x=document.querySelector(".layout-container"),d=document.createElement("div");return d.setAttribute("class","layout-aside-mobile-mode"),x.appendChild(d),d.addEventListener("click",m),[i,"layout-aside-mobile","layout-aside-mobile-open"]}else return m(),[i,"layout-aside-mobile","layout-aside-mobile-close"];else return e==="columns"||e==="classic"?t?[i,"layout-aside-pc-1"]:[i,"layout-aside-pc-220"]:t?[i,"layout-aside-pc-64"]:[i,"layout-aside-pc-220"]}),k=g(()=>{let{layout:e,isShowLogo:t}=s.value;return t&&e==="defaults"||t&&e==="columns"}),m=()=>{const e=document.querySelector(".layout-aside-mobile-mode");e==null||e.setAttribute("style","animation: error-img-two 0.3s"),setTimeout(()=>{var o;(o=e==null?void 0:e.parentNode)==null||o.removeChild(e)},300),document.body.clientWidth<1e3&&(s.value.isCollapse=!1),document.body.setAttribute("class","")},n=()=>{if(s.value.layout==="columns")return!1;l.menuList=v(h.value)},v=e=>e.filter(t=>{var o;return!((o=t.meta)!=null&&o.isHide)}).map(t=>(t=Object.assign({},t),t.children&&(t.children=v(t.children)),t)),_=e=>{l.clientWidth=e},C=e=>{const{layout:t,isColumnsMenuHoverPreload:o}=s.value;if(t!=="columns")return!1;e||a.emit("restoreDefault"),o&&y.setColumnsMenuHover(e)};return N(()=>{_(document.body.clientWidth),n(),a.on("setSendColumnsChildren",e=>{l.menuList=e.children}),a.on("setSendClassicChildren",e=>{let{layout:t,isClassicSplitMenu:o}=s.value;t==="classic"&&o&&(e.children.length<=1?s.value.isCollapse=!0:s.value.isCollapse=!1,l.menuList=[],l.menuList=e.children)}),a.on("getBreadcrumbIndexSetFilterRoutes",()=>{n()}),a.on("layoutMobileResize",e=>{_(e.clientWidth),m()})}),S(()=>[s.value.isShowLogoChange,s.value.isShowLogo,s.value.layout,s.value.isClassicSplitMenu],([e,t,o,u])=>{if(e!==t&&c.value&&c.value.update(),o==="classic"&&u)return!1;n()},{deep:!0}),S(()=>h.value,()=>{n()}),(e,t)=>{const o=F("el-scrollbar"),u=F("el-aside");return j((w(),z("div",G,[p(u,{class:Q(["layout-aside",r(W)])},{default:A(()=>[r(k)?(w(),$(r(M),{key:0})):J("",!0),p(o,{class:"flex-auto",ref_key:"layoutAsideScrollbarRef",ref:c,onMouseenter:t[0]||(t[0]=i=>C(!0)),onMouseleave:t[1]||(t[1]=i=>C(!1))},{default:A(()=>[p(r(T),{menuList:l.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[q,!r(V)]])}}});export{Ae as default};
